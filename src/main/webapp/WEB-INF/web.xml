<?xml version="1.0" encoding="utf-8"?>
<web-app xmlns="http://java.sun.com/xml/ns/javaee" version="2.5">
    <servlet>
      <servlet-name>login</servlet-name>
      <servlet-class>myapp.LoginServlet</servlet-class>
    </servlet>
    <servlet>
      <servlet-name>view-group</servlet-name>
      <jsp-file>/view_group.jsp</jsp-file>
    </servlet>
    <servlet>
        <servlet-name>edit-group</servlet-name>
        <jsp-file>/edit_group.jsp</jsp-file>
    </servlet>
    <servlet>
        <servlet-name>save-group</servlet-name>
        <servlet-class>myapp.SaveToolGroupServlet</servlet-class>
    </servlet>
    <servlet>
      <servlet-name>list-tools</servlet-name>
      <jsp-file>/list_tools.jsp</jsp-file>
    </servlet>
    <servlet>
        <servlet-name>view-tool</servlet-name>
        <jsp-file>/view_tool.jsp</jsp-file>
    </servlet>
    <servlet>
        <servlet-name>edit-tool</servlet-name>
        <jsp-file>/edit_tool.jsp</jsp-file>
    </servlet>
    <servlet>
        <servlet-name>save-tool</servlet-name>
        <servlet-class>myapp.SaveToolServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>login</servlet-name>
        <url-pattern>/login</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>view-group</servlet-name>
        <url-pattern>/group/*</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>edit-group</servlet-name>
        <url-pattern>/__edit__/group/*</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>save-group</servlet-name>
        <url-pattern>/__save__/group</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>list-tools</servlet-name>
        <url-pattern>/all</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>view-tool</servlet-name>
        <url-pattern>/tool/*</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>edit-tool</servlet-name>
        <url-pattern>/__edit__/tool/*</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>save-tool</servlet-name>
        <url-pattern>/__save__/tool</url-pattern>
    </servlet-mapping>
    <welcome-file-list>
        <welcome-file>index.jsp</welcome-file>
    </welcome-file-list>
    <!-- Limit access to administrative pages. -->
    <security-constraint>
      <web-resource-collection>
        <web-resource-name>login</web-resource-name>
        <url-pattern>/login</url-pattern>
      </web-resource-collection>
      <auth-constraint>
        <role-name>*</role-name>
      </auth-constraint>
    </security-constraint>
    <security-constraint>
      <web-resource-collection>
        <web-resource-name>admin</web-resource-name>
        <url-pattern>/__edit__/*</url-pattern>
        <url-pattern>/__save__/*</url-pattern>
      </web-resource-collection>
      <auth-constraint>
        <role-name>admin</role-name>
      </auth-constraint>
    </security-constraint>
</web-app>
